#Category only allowed for SOV

SOV_stalins_paranoia = {

	SOV_order_arrests = {

		icon = eng_trade_unions_support

		available = {
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_has_100_plot_power_for_focus_tt		
			}
		}

		cost = 50

		fire_only_once = no

		visible = {
			NOT = {
				has_country_flag = SOV_order_arrests_flag 
			}
		}

		days_remove = 35

		complete_effect = {
			set_country_flag = SOV_nkvd_cooldown
		}

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt
			set_country_flag = SOV_order_arrests_flag
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}

		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_falsify_evidence = {

		icon = eng_trade_unions_support

		available = {
			has_country_flag = SOV_order_arrests_flag
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_does_not_have_100_plot_power_tt		
			}
		}

		cost = 0

		fire_only_once = no

		visible = {
			NOT = {
				has_country_flag = SOV_falsify_evidence_flag 
			}
		}

		days_remove = 35

		complete_effect = {
			add_stability = -0.075
			set_country_flag = SOV_nkvd_cooldown
		}

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt
			set_country_flag = SOV_falsify_evidence_flag
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_force_confession = {

		icon = eng_trade_unions_support

		available = {
			has_country_flag = SOV_order_arrests_flag
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_does_not_have_100_plot_power_tt		
			}
		}

		cost = 0

		fire_only_once = no

		complete_effect = {
			set_country_flag = SOV_nkvd_cooldown
		}

		visible = {
			NOT = {
				has_country_flag = SOV_force_confession_flag
			}
		}

		modifier = {
			stability_weekly = -0.0015 
		}

		days_remove = 35

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt

			set_country_flag = SOV_force_confession_flag
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_deport_suspects = {

		icon = eng_trade_unions_support

		available = {
			has_country_flag = SOV_order_arrests_flag
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_does_not_have_100_plot_power_tt		
			}
		}

		cost = 0

		fire_only_once = no

		complete_effect = {
			set_country_flag = SOV_nkvd_cooldown
		}

		visible = {
			NOT = {
				has_country_flag = SOV_deport_suspects_flag 
			}
		}

		modifier = {
			political_power_gain = -1.0
		}

		days_remove = 35

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt

			set_country_flag = SOV_deport_suspects_flag 
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_mass_surveillance = {

		icon = eng_trade_unions_support

		available = {
			has_country_flag = SOV_order_arrests_flag
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_does_not_have_100_plot_power_tt		
			}
		}

		complete_effect = {
			set_country_flag = SOV_nkvd_cooldown
		}

		fire_only_once = no

		modifier = {
			civilian_factory_use = 3
		}

		visible = {
			NOT = {
				has_country_flag = SOV_mass_surveillance_flag 
			}
		}

		days_remove = 35

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt

			set_country_flag = SOV_mass_surveillance_flag 
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_eye_witness_claims = {

		icon = eng_trade_unions_support

		available = {
			has_country_flag = SOV_order_arrests_flag
			NOT = {
				has_country_flag = SOV_nkvd_cooldown
			}
			NOT = {
				check_variable = {
					var = SOV_purge_plot_power
					value = 100 
					compare = greater_than_or_equals 
				}
			}
			custom_trigger_tooltip = {
  				tooltip = SOV_does_not_have_100_plot_power_tt		
			}
		}
		
		complete_effect = {
			set_country_flag = SOV_nkvd_cooldown
		}

		modifier = {
			research_speed_factor = -0.05 
		}

		fire_only_once = no

		visible = {
			NOT = {
				has_country_flag = SOV_eye_witness_claims_flag
			}
		}

		days_remove = 35

		remove_effect = {
			custom_effect_tooltip = SOV_plot_power_increase_25_tt

			set_country_flag = SOV_eye_witness_claims_flag 
			clr_country_flag = SOV_nkvd_cooldown
			add_to_variable = {
				var = SOV_purge_plot_power 
				value = 25 
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

SOV_gulag_economy = {

	SOV_expand_nkvd_quotas_decision = {

		icon = eng_trade_unions_support

		available = {
			has_completed_focus = SOV_expand_nkvd_quotas
		}
		
		visible = { 
			has_completed_focus = SOV_expand_nkvd_quotas
		}
		cost = 50

		fire_only_once = no

		days_remove = 70

		days_re_enable = 120 

		remove_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_5k_tt
			add_to_variable = {
				var = SOV_gulag_inmates
				value = 5000
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_seize_kulak_assets = {

		icon = eng_trade_unions_support

		available = {
			has_completed_focus = SOV_kulak_operation
		}

		cost = 100

		fire_only_once = no

		visible = {
			has_completed_focus = SOV_kulak_operation
		}

		days_remove = 70

		days_re_enable = 185 

		modifier = {
			consumer_goods_factor = -0.03
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_construct_factory = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
		}

		cost = 0

		fire_only_once = no

		days_remove = 70

		days_re_enable = 120 

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000 
			}
		}

		remove_effect = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_construct_railroad = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
		}

		cost = 0

		fire_only_once = no

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000
			}
		}

		days_remove = 70

		days_re_enable = 120 
		fixed_random_seed = no
		remove_effect = {
			random_list = {
				33 = { 
				#Moscow - Gorki
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 11375
					}
				}
				33 = { 
				#Gorki - Sverdlovsk
					build_railway = {
						level = 1
						start_province = 11375
						target_province = 1821
					}
				}
				33 = { 
				#Moscow - Leningrad
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3151
					}
				}
				33 = { 
				#Moscow - Smolensk
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 306
					}
				}
				33 = { 
				#Moscow - Stalingrad
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3529
					}
				}
				33 = { 
				#Moscow - Bryansk
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3335
					}
				}
				33 = { 
				#Moscow - Kharkov
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 418
					}
				}
				33 = { 
				#Bryansk - Kiev
					build_railway = {
						level = 1
						start_province = 3335
						target_province = 525
					}
				}
				33 = { 
				#Smolensk - Minsk
					build_railway = {
						level = 1
						start_province = 306
						target_province = 11370
					}
				}
				33 = { 
				#Dnipropetrovsk - Sevastopol
					build_railway = {
						level = 1
						start_province = 306
						target_province = 11370
					}
				}
			}
			random_list = {
				34 = { 
				#Moscow - Gorki
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 11375
					}
				}
				34 = { 
				#Gorki - Sverdlovsk
					build_railway = {
						level = 1
						start_province = 11375
						target_province = 1821
					}
				}
				34 = { 
				#Moscow - Leningrad
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3151
					}
				}
				34 = { 
				#Moscow - Smolensk
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 306
					}
				}
				34 = { 
				#Moscow - Stalingrad
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3529
					}
				}
				34 = { 
				#Moscow - Bryansk
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 3335
					}
				}
				34 = { 
				#Moscow - Kharkov
					build_railway = {
						level = 1
						start_province = 6380
						target_province = 418
					}
				}
				34 = { 
				#Bryansk - Kiev
					build_railway = {
						level = 1
						start_province = 3335
						target_province = 525
					}
				}
				34 = { 
				#Smolensk - Minsk
					build_railway = {
						level = 1
						start_province = 306
						target_province = 11370
					}
				}
				34 = { 
				#Dnipropetrovsk - Sevastopol
					build_railway = {
						level = 1
						start_province = 306
						target_province = 11370
					}
				}
			}
			random_owned_state = {
				limit = {
					infrastructure < 7 
				}
				build_1_infrastructure = yes
			}
			random_owned_state = {
				limit = {
					infrastructure < 7
				}
				build_1_infrastructure = yes
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_open_new_mines = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
		}

		cost = 0

		fire_only_once = no

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000
			}
		}

		days_remove = 70

		days_re_enable = 120 

		remove_effect = {
			add_resource = {
				type = steel 
				amount = 2
				state = 516  
			}
			add_resource = {
				type = steel 
				amount = 2
				state = 644  
			}
			add_resource = {
				type = steel 
				amount = 2
				state = 562  
			}
			add_resource = {
				type = aluminium 
				amount = 1
				state = 579  
			}
			add_resource = {
				type = aluminium 
				amount = 1
				state = 574  
			}
			add_resource = {
				type = tungsten 
				amount = 1
				state = 575  
			}
			add_resource = {
				type = tungsten 
				amount = 1
				state = 576  
			}
			add_resource = {
				type = chromium
				amount = 1
				state = 577  
			}
			add_resource = {
				type = chromium 
				amount = 1
				state = 580  
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_force_research_breakthrough = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
			has_completed_focus = SOV_upti_affair 
		}

		cost = 0

		fire_only_once = no

		visible = {
			has_completed_focus = SOV_upti_affair
		}

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000
			}
		}

		days_remove = 70

		days_re_enable = 120 

		modifier = {
			research_speed_factor = 0.1 
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_re_education = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
			has_completed_focus = SOV_intellectual_purges 
		}

		cost = 0

		fire_only_once = no

		visible = {
			has_completed_focus = SOV_intellectual_purges
		}

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000
			}
		}

		days_remove = 70

		days_re_enable = 120 

		modifier = {
			stability_factor = 0.2
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_deploy_penal_division = {

		icon = eng_trade_unions_support

		available = {
			check_variable = {
				compare = greater_than_or_equals
				value = 10000
				var = SOV_gulag_inmates
			}
		}

		cost = 0

		fire_only_once = no

		complete_effect = {
			custom_effect_tooltip = SOV_gulag_inmates_10k_tt
			subtract_from_variable = {
				var = SOV_gulag_inmates
				value = 10000
			}
		}

		days_re_enable = 120

		complete_effect = {
			
			custom_effect_tooltip = SOV_deploy_gulag_prisoners_tt

			219 = {
				create_unit = {
					division = "name = \"NKVD Division\" division_template = \"Shtrafbat Division\" start_experience_factor = 0.0 start_equipment_factor = 1" 
					owner = SOV
				}	
				create_unit = {
					division = "name = \"NKVD Division\" division_template = \"Shtrafbat Division\" start_experience_factor = 0.0 start_equipment_factor = 1" 
					owner = SOV
				}				
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

}

SOV_socialism_in_one_country = {

	SOV_baltic_security_mission = {
		fire_only_once = yes

		allowed = { 
			tag = SOV 
		} 

		activation = {
			has_completed_focus = SOV_finnish_wargoal 
		}

		available = {
			OR = {
				AND = {
					SOV = { has_full_control_of_state = 146 }
				}
				FIN = { surrender_progress > 0.2 }
			}
		}

		days_mission_timeout = 120 

		timeout_effect = { 
			FIN = { country_event = finland.9 }
		}

		complete_effect = {
			FIN = { country_event = finland.7 }
		}
	}

	SOV_claims_on_baltic = {
		icon = eng_trade_unions_support

		fire_only_once = yes

		days_remove = 70 	

		cost = 0 	

		available = {
			POL = { has_war = yes }	 
			NOT = { has_war_with = EST }
			NOT = { has_war_with = LIT }
			NOT = { has_war_with = LAT }
		}

		visible = {
			POL = { has_war = yes }
		}

		remove_effect = {
			complete_national_focus = SOV_baltic_security
			add_state_claim = 11
			add_state_claim = 189
			add_state_claim = 12
			add_state_claim = 190
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 3 name = SOV_claims_on_baltic }
			SOV = { country_event = soviet.32 }
			SOV = { country_event = soviet.33 }
			SOV = { country_event = soviet.34 }
			every_other_country = {
			
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
						owns_state = 13
						owns_state = 191
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1939.11.1
			}
		}
	}

	SOV_finnish_wargoal = {
		icon = eng_trade_unions_support

		fire_only_once = yes

		days_remove = 1 	

		cost = 0 	

		available = {
			NOT = { has_war_with = FIN }
			SOV = {
				has_full_control_of_state = 13
			}
			date > 1939.1.25
		}
		
		visible = {
			has_completed_focus = SOV_baltic_security
		}

		remove_effect = {
			complete_national_focus = SOV_finnish_wargoal
			add_state_claim = 146 # Karjala			
			SOV = { country_event = soviet.31 }
			add_named_threat = { threat = 1 name = SOV_finnish_wargoal }
		}
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1939.1.25
			}	
		}
	}

	SOV_claim_bessarabia = {
		icon = eng_trade_unions_support

		fire_only_once = yes

		days_remove = 70 	

		cost = 0 	

		available = {
			NOT = { has_war_with = ROM }
			date > 1940.4.1
		}

		visible = {
			SOV = {
				has_full_control_of_state = 812 
			}
		}

		remove_effect = {
			complete_national_focus = SOV_claim_bessarabia

			add_state_claim = 78
			add_state_claim = 80
			SOV = { country_event = soviet.30 }
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
		
		ai_will_do = {
			factor = 100		
		}
	}

	SOV_soviet_german_trade_agreement = {
		icon = eng_trade_unions_support

		fire_only_once = yes

		days_remove = 70 	

		cost = 0 	

		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				has_idea = SOV_molotov_ribbentrop_pact_2
			} 
		}

		visible = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				has_idea = SOV_molotov_ribbentrop_pact_2
			} 
		}

		remove_effect = {
			complete_national_focus = SOV_soviet_german_trade_agreement

			GER = {
				country_event = { id = soviet.114 days = 1 }
				add_ideas = german_soviet_trade_agreement_ger
			}		
			show_ideas_tooltip = SOV_molotov_ribbentrop_pact_2


			add_tech_bonus = {
				name = SOV_soviet_german_trade_agreement
				bonus = 1.0 
				uses = 2 
				category = industry 
			}
		}
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1941.4.10
			}			
		}
	}

	SOV_soviet_german_technological_agreement = {
		icon = eng_trade_unions_support

		fire_only_once = yes

		days_remove = 70 	

		cost = 0 	

		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				has_idea = SOV_molotov_ribbentrop_pact_2
			} 
			has_completed_focus = SOV_soviet_german_trade_agreement
		}
		
		visible = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				has_idea = SOV_molotov_ribbentrop_pact_2
			} 
		}

		remove_effect = {
			complete_national_focus = SOV_soviet_german_technological_agreement

			country_event = { id = germany.75 days = 1 }
			effect_tooltip = {
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 1
					category = armor
				}
				add_tech_bonus = {
					bonus = 0.5
					category = tank_upgrade
				}
				add_tech_bonus = {
					bonus = 1
					category = cat_mechanized_equipment
				}
			}
		}
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1941.4.10
			}			
		}
	}

	SOV_return_manchuria = {

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				AND = {
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
				AND = {
					MAN = { is_puppet_of = SOV }
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
			}
		}
		cost = 0
		fire_only_once = yes
		visible = {
			OR = {
				AND = {
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
				AND = {
					MAN = { is_puppet_of = SOV }
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
			}
			PRC = { exists = yes }
		}

		complete_effect = {
			PRC = { 
				transfer_state = 609
				transfer_state = 610
				transfer_state = 716
				transfer_state = 715
				transfer_state = 328
				transfer_state = 717
				transfer_state = 714
				country_event = { id = wtt_japan.125 }
			}		
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_fortify_molotov_line = {

		icon = generic_construction

		fire_only_once = yes
		
		allowed = {
		   tag = SOV
		}
		
		available = { 
			has_offensive_war = no 
			SOV = {
				AND = {
					AND = { owns_state = 11 controls_state = 11 }
					AND = { owns_state = 12 controls_state = 12 }
					AND = { owns_state = 13 controls_state = 13 }
					AND = { owns_state = 89 controls_state = 89 }
					AND = { owns_state = 91 controls_state = 91 }
					AND = { owns_state = 93 controls_state = 93 }
					AND = { owns_state = 94 controls_state = 94 }
					AND = { owns_state = 95 controls_state = 95 }
					AND = { owns_state = 96 controls_state = 96 }
					AND = { owns_state = 97 controls_state = 97 }
					AND = { owns_state = 189 controls_state = 189 }
					AND = { owns_state = 190 controls_state = 190 }
					AND = { owns_state = 191 controls_state = 191 }
				}
			}
		}
		
		visible = {
			has_completed_focus = SOV_baltic_security 
		}
		
		ai_will_do = {
			factor = 10
		}

		modifier = {
			civilian_factory_use = 10 
		}
		
		days_remove = 70

		remove_effect = {
			11 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6407
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6360
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 327
					instant_build = yes
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11411
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6483
					instant_build = yes

				}
			}
			95 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 3393
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3366
					instant_build = yes
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11479
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 9558
					instant_build = yes
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 7
					province = 3392
					instant_build = yes
				}
			}
			189 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6314
					instant_build = yes
				}

				add_building_construction = {
					type = bunker
					level = 4
					province = 3354
					instant_build = yes
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 290
					instant_build = yes
				}
			}
			190 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9262
					instant_build = yes
				}
			}
		}
	}

	SOV_improve_stalin_line = {

		icon = generic_construction

		fire_only_once = yes
		
		allowed = {
		   tag = SOV
		}
		
		available = {
			has_offensive_war = no 
			SOV = {
				AND = {
					AND = { owns_state = 11 controls_state = 11 }
					AND = { owns_state = 12 controls_state = 12 }
					AND = { owns_state = 13 controls_state = 13 }
					AND = { owns_state = 89 controls_state = 89 }
					AND = { owns_state = 91 controls_state = 91 }
					AND = { owns_state = 93 controls_state = 93 }
					AND = { owns_state = 94 controls_state = 94 }
					AND = { owns_state = 95 controls_state = 95 }
					AND = { owns_state = 96 controls_state = 96 }
					AND = { owns_state = 97 controls_state = 97 }
					AND = { owns_state = 189 controls_state = 189 }
					AND = { owns_state = 190 controls_state = 190 }
					AND = { owns_state = 191 controls_state = 191 }
				}
			}
		}

		ai_will_do = {
			factor = 10
		}
		
		visible = {
			has_completed_focus = SOV_baltic_security 
		}
		
		modifier = {
			civilian_factory_use = 10 
		}

		days_remove = 70

		remove_effect = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11202
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11392
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6324
						instant_build = yes
					}
				}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 6242
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 9323
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 9241
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3331
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 489
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 13269
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11409
						instant_build = yes
					}
				}
			}
			834 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 741
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					add_building_construction = {
						type = bunker
						level = 4
						province = 11670
						instant_build = yes
					}
				}
			}
			196 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 721
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 737
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3573
					instant_build = yes
				}
			}
			200 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11405
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 588
					instant_build = yes

				}
			}
			259 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6507
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6495
					instant_build = yes
				}
			}
		}		
	}	
}

SOV_military_district_garrisons = {
	SOV_expand_caucasus_garrison = {

		icon = {
			key = SOV_garrison_none
			trigger = {
				229 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
			}
		}
		icon = {
			key = SOV_garrison_weak
			trigger = {
				229 = {
					check_variable = { var = SOV_garrison_strength value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_strong
			trigger = {
				229 = {
					check_variable = { var = SOV_garrison_strength value = 3 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_total
			trigger = {
				229 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 229 }
		}

		on_map_mode = map_only

		available = {
			if = {
				NOT = {
					229 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
				}
			}
		}

		custom_cost_trigger = {
			ROOT = {
				has_equipment = { infantry_equipment > 2399 }
				has_equipment = { artillery_equipment > 149 }
				has_equipment = { anti_tank_equipment > 74 }
				has_equipment = { support_equipment > 199 }
				has_equipment = { motorized_equipment > 49 }
			}
		}

		custom_cost_text = SOV_garrison_system_tt 

		fire_only_once = no

		days_remove = 10

		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -2400 }
					add_equipment_to_stockpile = { type = artillery_equipment amount = -150 }
					add_equipment_to_stockpile = { type = anti_tank_equipment amount = -75 }
					add_equipment_to_stockpile = { type = support_equipment amount = -200 }
					add_equipment_to_stockpile = { type = motorized_equipment amount = -50 }
				}
			}
		}

		remove_effect = {
			229 = {
				custom_effect_tooltip = SOV_garrison_system_2_tt
				hidden_effect = {
					if = {
						limit = { check_variable = { SOV_garrison_strength < 4 } }
						add_to_variable = { var = SOV_garrison_strength value = 1 }
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}

	SOV_expand_urals_garrison = {

		icon = {
			key = SOV_garrison_none
			trigger = {
				582 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
			}
		}
		icon = {
			key = SOV_garrison_weak
			trigger = {
				582 = {
					check_variable = { var = SOV_garrison_strength value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_strong
			trigger = {
				582 = {
					check_variable = { var = SOV_garrison_strength value = 3 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_total
			trigger = {
				582 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
			}
		}

		available = {
			if = {
				NOT = {
					582 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
				}
			}
		}
		highlight_states = {
			highlight_state_targets = { state = 582 }
		}

		on_map_mode = map_only

		custom_cost_trigger = {
			ROOT = {
				has_equipment = { infantry_equipment > 2399 }
				has_equipment = { artillery_equipment > 149 }
				has_equipment = { anti_tank_equipment > 74 }
				has_equipment = { support_equipment > 199 }
				has_equipment = { motorized_equipment > 49 }
			}
		}

		custom_cost_text = SOV_garrison_system_tt 

		fire_only_once = no

		days_remove = 10

		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -2400 }
					add_equipment_to_stockpile = { type = artillery_equipment amount = -150 }
					add_equipment_to_stockpile = { type = anti_tank_equipment amount = -75 }
					add_equipment_to_stockpile = { type = support_equipment amount = -200 }
					add_equipment_to_stockpile = { type = motorized_equipment amount = -50 }
				}
			}
		}

		remove_effect = {
			582 = {
				custom_effect_tooltip = SOV_garrison_system_2_tt
				hidden_effect = {
					if = {
						limit = { check_variable = { SOV_garrison_strength < 4 } }
						add_to_variable = { var = SOV_garrison_strength value = 1 }
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}

	SOV_expand_central_asia_garrison = {

		icon = {
			key = SOV_garrison_none
			trigger = {
				405 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
			}
		}
		icon = {
			key = SOV_garrison_weak
			trigger = {
				405 = {
					check_variable = { var = SOV_garrison_strength value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_strong
			trigger = {
				405 = {
					check_variable = { var = SOV_garrison_strength value = 3 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_total
			trigger = {
				405 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
			}
		}
		available = {
			if = {
				NOT = {
					405 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
				}
			}
		}
		highlight_states = {
		highlight_state_targets = { state = 405 }
		}

		on_map_mode = map_only

		custom_cost_trigger = {
			ROOT = {
				has_equipment = { infantry_equipment > 2099 }
				has_equipment = { artillery_equipment > 129 }
				has_equipment = { anti_tank_equipment > 64 }
				has_equipment = { support_equipment > 179 }
				has_equipment = { motorized_equipment > 44 }
			}
		}

		custom_cost_text = SOV_garrison_system_tt 

		fire_only_once = no

		days_remove = 10

		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -2100 }
					add_equipment_to_stockpile = { type = artillery_equipment amount = -130 }
					add_equipment_to_stockpile = { type = anti_tank_equipment amount = -65 }
					add_equipment_to_stockpile = { type = support_equipment amount = -180 }
					add_equipment_to_stockpile = { type = motorized_equipment amount = -45 }
				}
			}
		}

		remove_effect = {
			405 = {
				custom_effect_tooltip = SOV_garrison_system_3_tt
				hidden_effect = {
					if = {
						limit = { check_variable = { SOV_garrison_strength < 4 } }
						add_to_variable = { var = SOV_garrison_strength value = 1 }
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}

	SOV_expand_omsk_garrison = {

		icon = {
			key = SOV_garrison_none
			trigger = {
				571 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
			}
		}
		icon = {
			key = SOV_garrison_weak
			trigger = {
				571 = {
					check_variable = { var = SOV_garrison_strength value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_strong
			trigger = {
				571 = {
					check_variable = { var = SOV_garrison_strength value = 3 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_total
			trigger = {
				571 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
			}
		}
		highlight_states = {
		highlight_state_targets = { state = 571 }
		}
	
		available = {
			if = {
				NOT = {
					571 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
				}
			}
		}

		on_map_mode = map_only

		custom_cost_trigger = {
			ROOT = {
				has_equipment = { infantry_equipment > 2099 }
				has_equipment = { artillery_equipment > 129 }
				has_equipment = { anti_tank_equipment > 64 }
				has_equipment = { support_equipment > 179 }
				has_equipment = { motorized_equipment > 44 }
			}
		}

		custom_cost_text = SOV_garrison_system_tt 

		fire_only_once = no

		days_remove = 10

		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -2100 }
					add_equipment_to_stockpile = { type = artillery_equipment amount = -130 }
					add_equipment_to_stockpile = { type = anti_tank_equipment amount = -65 }
					add_equipment_to_stockpile = { type = support_equipment amount = -180 }
					add_equipment_to_stockpile = { type = motorized_equipment amount = -45 }
				}
			}
		}

		remove_effect = {
			571 = {
				custom_effect_tooltip = SOV_garrison_system_3_tt
				hidden_effect = {
					if = {
						limit = { check_variable = { SOV_garrison_strength < 4 } }
						add_to_variable = { var = SOV_garrison_strength value = 1 }
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}

	SOV_expand_vladivostok_garrison = {

		icon = {
			key = SOV_garrison_none
			trigger = {
				408 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
			}
		}
		icon = {
			key = SOV_garrison_weak
			trigger = {
				408 = {
					check_variable = { var = SOV_garrison_strength value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_strong
			trigger = {
				408 = {
					check_variable = { var = SOV_garrison_strength value = 3 compare = equals }
				}
			}
		}
		icon = {
			key = SOV_garrison_total
			trigger = {
				408 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
			}
		}

		available = {
			if = {
				NOT = {
					408 = { check_variable = { var = SOV_garrison_strength value = 4 compare = greater_than_or_equals } }
				}
			}
		}

		highlight_states = {
		highlight_state_targets = { state = 408 }
		}

		on_map_mode = map_only

		custom_cost_trigger = {
			ROOT = {
				has_equipment = { infantry_equipment > 2099 }
				has_equipment = { artillery_equipment > 129 }
				has_equipment = { anti_tank_equipment > 64 }
				has_equipment = { support_equipment > 179 }
				has_equipment = { motorized_equipment > 44 }
			}
		}

		custom_cost_text = SOV_garrison_system_tt 

		fire_only_once = no

		days_remove = 10

		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				SOV = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -2100 }
					add_equipment_to_stockpile = { type = artillery_equipment amount = -130 }
					add_equipment_to_stockpile = { type = anti_tank_equipment amount = -65 }
					add_equipment_to_stockpile = { type = support_equipment amount = -180 }
					add_equipment_to_stockpile = { type = motorized_equipment amount = -45 }
				}
			}
		}

		remove_effect = {
			408 = {
				custom_effect_tooltip = SOV_garrison_system_3_tt
				hidden_effect = {
					if = {
						limit = { check_variable = { SOV_garrison_strength < 4 } }
						add_to_variable = { var = SOV_garrison_strength value = 1 }
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}
}

SOV_industry_relocation = {

	SOV_relocate_industry_from_moscow = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		highlight_states = {
		highlight_state_targets = { state = 219 } 
		}
		
		selectable_mission = no	

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				219 = { #Moscow
					is_owned_and_controlled_by = SOV
				} 
			}
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 219
				}
				219 = { #Moscow
					remove_building = {
						type = arms_factory
						level = 15
					}
					remove_building = {
						type = industrial_complex
						level = 20
					}
				}
				581 = { #Northan Urals
					add_extra_state_shared_building_slots = 36
					add_building_construction = {
						type = arms_factory
						level = 15
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 20
						instant_build = yes
					}
	
					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.4 }
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_moscow_tt
		}
	}

	SOV_relocate_industry_from_leningrad = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {
		highlight_state_targets = { state = 195 }
		}

		selectable_mission = no

		available = {	
			NOT = {
				195 = { #Leningrad
					is_owned_and_controlled_by = SOV
				}
			}		
		}

		fire_only_once = yes

		activation = {
			has_idea = SOV_relocating_industry
		}
		timeout_effect = {
			if = {
				limit = {
					controls_state = 195
				}
				195 = { #Leningrad
					remove_building = {
						type = arms_factory
						level = 12
					}
					remove_building = {
						type = industrial_complex
						level = 20
					}
				}
				580 = { #Tobolsk
					add_extra_state_shared_building_slots = 20
					add_building_construction = {
						type = arms_factory
						level = 12
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 20
						instant_build = yes
					}
					hidden_effect = {			
						damage_building = { type = arms_factory damage = 0.4 }
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_leningrad_tt
		}
	}
	
	SOV_relocate_industry_from_dnipropetrovsk = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {		
		highlight_state_targets = { state = 226 } 
		}
	
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				226 = { #Dnipropetrovsk
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 226
				}
				226 = { #Dnipropetrovsk
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 2				
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_cherkasy = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {		
		highlight_state_targets = { state = 203 } 
		}
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				203 = { #Cherkasy
					is_owned_and_controlled_by = SOV
				}
			}				
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 203
				}
				203 = { #Cherkasy
					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 3				
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_keiv = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {		
		highlight_state_targets = { state = 202 } 
		}
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				202 = { #Keiv
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 202
				}
				202 = { #Keiv
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = arms_factory
						level = 6
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 10				
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 6
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_rostov = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {		
		highlight_state_targets = { state = 218 } 
		}
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				218 = { #Rostov
					is_owned_and_controlled_by = SOV
				}
			}		
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 218
				}
				218 = { #Rostov
					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = arms_factory
						level = 2
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 4				
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_kharkov = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55

		highlight_states = {		
		highlight_state_targets = { state = 221 } 
		}
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				221 = { #Kharkov
					is_owned_and_controlled_by = SOV
				}
			}		
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 221
				}
				221 = { #Kharkov
					remove_building = {
						type = arms_factory
						level = 5
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 5				
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}
		
	SOV_relocate_industry_from_odessa = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {		
		highlight_state_targets = { state = 192 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				192 = { #Odessa
					is_owned_and_controlled_by = SOV
				}
			}
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 192
				}
				192 = { #Odessa
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}
				579 = { #Salekland
					add_extra_state_shared_building_slots = 2				
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_smolensk = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 242 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				242 = { #Smolensk
					is_owned_and_controlled_by = SOV
				}
			}
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 242
				}
				242 = { #Smolensk
					remove_building = {
						type = industrial_complex
						level = 5
					}

				}
				577 = { #Surgut
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}
				
					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_smolensk_tt
		}
	}

	SOV_relocate_industry_from_lwow = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 91 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				91 = { #Lwow
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 91
				}
				91 = { #lwow
					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = arms_factory
						level = 3
					}
				}
				577 = { #Surgut
					add_extra_state_shared_building_slots = 5	
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_minsk = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 206 } 
		}
		
		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				206 = { #Minsk
					is_owned_and_controlled_by = SOV
				}
			}				
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 206
				}
				206 = { #Minsk
					remove_building = {
						type = industrial_complex
						level = 3
					}
					remove_building = {
						type = arms_factory
						level = 3
					}
				}
				577 = { #Surgut
					add_extra_state_shared_building_slots = 6	
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_karunas = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 11 } 
		}
		
		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				11 = { #Karunas
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 11
				}
				11 = { #Karunas
					remove_building = {
						type = industrial_complex
						level = 3
					}
					remove_building = {
						type = arms_factory
						level = 6
					}
				}
				577 = { #Surgut
					add_extra_state_shared_building_slots = 9	
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 6
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_vidzeme = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}

		available = {
			NOT = {
				12 = { #Vidzeme
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		highlight_states = {
		highlight_state_targets = { state = 12 } 
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 12
				}
				12 = { #vidzeme
					remove_building = {
						type = industrial_complex
						level = 8
					}
					remove_building = {
						type = arms_factory
						level = 8
					}
				}
				577 = { #Surgut
					add_extra_state_shared_building_slots = 16
					add_building_construction = {
						type = industrial_complex
						level = 8
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 8
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_harju = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no
		
		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				13 = { #Harju
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		highlight_states = {
		highlight_state_targets = { state = 13 } 
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 13
				}
				13 = { #Harju
					remove_building = {
						type = industrial_complex
						level = 8
					}
					remove_building = {
						type = arms_factory
						level = 8
					}
				}
				578 = { #Tomsk
					add_extra_state_shared_building_slots = 16
					add_building_construction = {
						type = industrial_complex
						level = 8
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 8
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_tartu = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 191 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				191 = { #Tartu
					is_owned_and_controlled_by = SOV
				}
			}		
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 191
				}
				191 = { #Tartu
					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = arms_factory
						level = 3
					}
				}
				578 = { #Tomsk
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_karjala = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 146 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				146 = { #Karjala
					is_owned_and_controlled_by = SOV
				}
			}			
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 146
				}
				146 = { #Karjala
					remove_building = {
						type = industrial_complex
						level = 7
					}
				}
				578 = { #Tomsk
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = industrial_complex
						level = 7
						instant_build = yes
					}
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_bialystok = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 97 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				97 = { #Bialystok
					is_owned_and_controlled_by = SOV
				}
			}		
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 97
				}
				97 = { #Bialystok
					remove_building = {
						type = industrial_complex
						level = 3
					}
				}
				40 = { #Barnaul
					add_extra_state_shared_building_slots = 5	
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_orel = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		highlight_states = {
		highlight_state_targets = { state = 570 } 
		}

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				570 = { is_owned_and_controlled_by = SOV } #Novosibirsk
			}	
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 222
				}
				222 = { #Orel
					remove_building = {
						type = industrial_complex
						level = 3
					}
					remove_building = {
						type = arms_factory
						level = 2
					}
				}
				40 = { #Barnaul
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_tula = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				223 = { #Tula
					is_owned_and_controlled_by = SOV
				}
			}
		}

		highlight_states = {
		highlight_state_targets = { state = 223 }
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 223
				}
				223 = { #Tula
					remove_building = {
						type = industrial_complex
						level = 1
					}
					remove_building = {
						type = arms_factory
						level = 4
					}
				}
				40 = { #Barnaul
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	SOV_relocate_industry_from_rzhev = {

		icon = generic_construction

		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no

		activation = {
			has_idea = SOV_relocating_industry
		}
		available = {
			NOT = {
				246 = { #Rzhev
					is_owned_and_controlled_by = SOV
				}
			}	
		}

		highlight_states = {
		highlight_state_targets = { state = 246 } 
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 223
				}
				246 = { #rzhev
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				40 = { #Barnaul
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
	
					hidden_effect = {			
						damage_building = { type = industrial_complex damage = 0.4 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}
	
	move_leningrad_aluminium_plant = { #195

		icon = aluminium
		
		is_good = yes
		
		days_mission_timeout = 55
		
		selectable_mission = no
		
		activation = {
			has_idea = SOV_relocating_industry
		}

		highlight_states = {
		highlight_state_targets = { state = 195 } 
		}

		available = {
			NOT = {
				AND = {
					has_full_control_of_state = 195
					195 = { has_state_flag = leningrad_aluminium_developed }	
				}
			}
		}

		fire_only_once = yes

		timeout_effect = {
			if = {
				limit = {
					controls_state = 195
				}
				195 = {
					add_resource = {
						type = aluminium
						amount = -12
					}				
				}
				569 = {
					add_resource = {
						type = aluminium
						amount = 12
					}
				}
			}
			custom_effect_tooltip = SOV_relocate_industry_from_leningrad_tt
		}
	}
}

#Category only allowed for SOV
SOV_great_patriotic_war = {

	SOV_order_227 = {

		icon = generic_nationalism

		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			surrender_progress > 0.3
		}

		cost = 50
		fire_only_once = yes
		visible = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}

		days_remove = 365

		modifier = {
			army_core_defence_factor = 0.25
		}

		ai_will_do = {
			factor = 1
			modifier = {
				surrender_progress > 0.25
				factor = 100
			}
		}
	}

	SOV_murmansk_lend_lease_decision = {

		allowed = { always = yes }

		icon = ger_mefo_bills

		available = {
			tag = SOV
			SOV = { 
				controls_state = 213 
				controls_state = 214 
				controls_state = 215
			}			
		}
		cancel_trigger = {
			OR = {
				NOT = {
					SOV = { 
						controls_state = 213 
					}
				}	
				NOT = {
					SOV = { 
						controls_state = 214 
					}
				}
			}
		}	
		activation = {
			has_completed_focus = SOV_murmansk_lend_lease
			SOV = { 
				controls_state = 213 
				controls_state = 214 
			}
		}

		selectable_mission = no
		days_mission_timeout = 100
		days_remove = 100
		is_good = no
		fire_only_once = no

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
					amount = 5000
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = small_plane_airframe
					amount = 200
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = radio_equipment_1
					amount = 750
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = support_equipment_1
					amount = 1250
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
					amount = 2500
					producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = anti_tank_equipment
					amount = 200
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
					amount = 500
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = anti_air_equipment
					amount = 200
					producer = USA
			}			
		}

		timeout_effect = {
			hidden_effect = {
				activate_mission = SOV_murmansk_lend_lease_decision
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	SOV_arctic_lend_lease_decision = {

		allowed = { always = yes }

		icon = ger_mefo_bills

		available = {
			tag = SOV
			SOV = { controls_state = 408 }
		}
		cancel_trigger = {
			NOT = {
				SOV = { controls_state = 408 }
			}	
		}	
		activation = {
			has_completed_focus = SOV_arctic_lend_lease
			SOV = { controls_state = 408 }
		}

		selectable_mission = no
		days_mission_timeout = 100
		days_remove = 100
		is_good = no
		fire_only_once = no

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
					amount = 5000
					producer = USA
					}
			add_equipment_to_stockpile = {
				type = small_plane_airframe
					amount = 200
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = radio_equipment_1
					amount = 750
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = support_equipment_1
					amount = 1250
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
					amount = 2500
					producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = anti_tank_equipment
					amount = 200
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
					amount = 500
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = anti_air_equipment
					amount = 200
					producer = USA
			}			
		}

		timeout_effect = {
			hidden_effect = {
				activate_mission = SOV_arctic_lend_lease_decision
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	SOV_persia_lend_lease_decision = {

		allowed = { always = yes }

		icon = ger_mefo_bills

		available = {
			tag = SOV
			PER = { has_capitulated = no }
		}
		cancel_trigger = {
			PER = { has_capitulated = yes }	
		}
		activation = {
			has_completed_focus = SOV_persian_lend_lease
			PER = { has_capitulated = no }
		}

		selectable_mission = no
		days_mission_timeout = 100
		days_remove = 100
		is_good = no
		fire_only_once = no

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
					amount = 5000
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = small_plane_airframe
					amount = 200
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = radio_equipment_1
					amount = 750
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = support_equipment_1
					amount = 1250
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
					amount = 2500
					producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = anti_tank_equipment
					amount = 200
					producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
					amount = 500
					producer = USA
			}
			add_equipment_to_stockpile = {
				type = anti_air_equipment
					amount = 200
					producer = USA
			}			
		}

		timeout_effect = {
			hidden_effect = {
				activate_mission = SOV_persia_lend_lease_decision
			}		
		}

		ai_will_do = {
			factor = 200
		}
	}	

	SOV_western_reinforcements = {
		priority = 10

		icon = generic_operation

		activation = {
			has_war_with = GER 
		}

		days_mission_timeout = 60

		fire_only_once = yes

		available = {
			hidden_trigger = { always = no }
		}

		is_good = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_western_reinforcements_tt
			hidden_effect = {
				if = {
					limit = {
						229 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
					}
				}
				else_if = {
					limit = {
						229 = { check_variable = { var = SOV_garrison_strength value = 2 compare = equals } }
					}
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
					}
				}
				else_if = {
					limit = {
						229 = { check_variable = { var = SOV_garrison_strength value = 3 compare = equals } }
					}

					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						229 = { check_variable = { var = SOV_garrison_strength value = 4 compare = equals } }
					}

					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}

				if = {
					limit = {
						582 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
					}
				}
				else_if = {
					limit = {
						582 = { check_variable = { var = SOV_garrison_strength value = 2 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
					}
				}
				else_if = {
					limit = {
						582 = { check_variable = { var = SOV_garrison_strength value = 3 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.7 start_equipment_factor = 1" 
							owner = SOV
						}	
					}
				}
				else_if = {
					limit = {
						582 = { check_variable = { var = SOV_garrison_strength value = 4 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
			}
		}
	}

	SOV_eastern_reinforcements = {
		priority = 10

		icon = generic_operation

		available = {
			hidden_trigger = { always = no }
		}

		activation = {
			has_war_with = GER 
		}

		days_mission_timeout = 150

		fire_only_once = yes


		is_good = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_eastern_reinforcements_tt
			hidden_effect = {
				if = {
					limit = {
						571 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
					}
				}
				else_if = {
					limit = {
						571 = { check_variable = { var = SOV_garrison_strength value = 2 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
					}
				}
				else_if = {
					limit = {
						571 = { check_variable = { var = SOV_garrison_strength value = 3 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						571 = { check_variable = { var = SOV_garrison_strength value = 4 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}

				if = {
					limit = {
						405 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
					}
				}
				else_if = {
					limit = {
						405 = { check_variable = { var = SOV_garrison_strength value = 2 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						405 = { check_variable = { var = SOV_garrison_strength value = 3 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						405 = { check_variable = { var = SOV_garrison_strength value = 4 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}

				if = {
					limit = {
						408 = { check_variable = { var = SOV_garrison_strength value = 1 compare = equals } }
					}
				}
				else_if = {
					limit = {
						408 = { check_variable = { var = SOV_garrison_strength value = 2 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						408 = { check_variable = { var = SOV_garrison_strength value = 3 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
				else_if = {
					limit = {
						408 = { check_variable = { var = SOV_garrison_strength value = 4 compare = equals } }
					}
					
					219 = {
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}	
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}				
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 1.0 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
						create_unit = {
							division = "name = \"Strelkovaya Diviziya\" division_template = \"NKVD Division\" start_experience_factor = 0.6 start_equipment_factor = 1" 
							owner = SOV
						}
					}
				}
			}
		}
	}


	SOV_scorched_earth = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			surrender_progress > 0
		}

		cost = 50
		fire_only_once = yes
		visible = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			surrender_progress > 0
		}

		complete_effect = {
			set_country_flag = SOV_scorched_earth
			unlock_decision_tooltip = SOV_scorched_earth_baltics
			unlock_decision_tooltip = SOV_scorched_earth_byelorussia
			unlock_decision_tooltip = SOV_scorched_earth_ukraine
			unlock_decision_tooltip = SOV_scorched_earth_stalingrad
			unlock_decision_tooltip = SOV_scorched_earth_caucasus
			unlock_decision_tooltip = SOV_scorched_earth_moscow
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_baltics = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
		}

		cost = 50
		fire_only_once = yes
		visible = {
			has_war = yes
			OR = {
				controls_state = 189
				controls_state = 11
				controls_state = 190
				controls_state = 12
				controls_state = 191
				controls_state = 13
			}
			has_country_flag = SOV_scorched_earth
		}

		complete_effect = {
			if = {
				limit = {
					controls_state = 189
				}
				189 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 11
				}
				11 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 190
				}
				190 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 12
				}
				12 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 191
				}
				191 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 13
				}
				13 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_byelorussia = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth

		}

		cost = 75
		fire_only_once = yes
		visible = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
			any_state = {
				is_core_of = BLR
				is_controlled_by = SOV
			}
		}

		complete_effect = {

			every_state = {
				limit = {
					is_core_of = BLR
					is_controlled_by = SOV
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_ukraine = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
			any_state = {
				is_core_of = UKR
				is_controlled_by = SOV
			}

		}

		cost = 75
		fire_only_once = yes
		visible = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
			any_state = {
				is_core_of = UKR
				is_controlled_by = SOV
			}
		}

		complete_effect = {

			every_state = {
				limit = {
					is_core_of = UKR
					is_controlled_by = SOV
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_caucasus = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth

		}

		cost = 75
		fire_only_once = yes
		visible = {
			has_war = yes
			OR = {
				420 = { CONTROLLER = { has_war_with = SOV } }
				419 = { CONTROLLER = { has_war_with = SOV } }
				353 = { CONTROLLER = { has_war_with = SOV } }
				354 = { CONTROLLER = { has_war_with = SOV } }
				137 = { CONTROLLER = { has_war_with = SOV } }
				218 = { CONTROLLER = { has_war_with = SOV } }
				238 = { CONTROLLER = { has_war_with = SOV } }
				237 = { CONTROLLER = { has_war_with = SOV } }
				236 = { CONTROLLER = { has_war_with = SOV } }
				231 = { CONTROLLER = { has_war_with = SOV } }#sneaky QA naval invasion check
				233 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
			}
			has_country_flag = SOV_scorched_earth
		}

		complete_effect = {

			if = {
				limit = {
					229 = { is_controlled_by = SOV}
				}
				229 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					230 = { is_controlled_by = SOV}
				}
				230 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					231 = { is_controlled_by = SOV}
				}
				231 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					232 = { is_controlled_by = SOV}
				}
				232 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					233 = { is_controlled_by = SOV}
				}
				233 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					234 = { is_controlled_by = SOV}
				}
				234 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					235 = { is_controlled_by = SOV}
				}
				235 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_stalingrad = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
		}

		cost = 75
		fire_only_once = yes
		visible = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
			OR = {
				227 = { CONTROLLER = { has_war_with = SOV } }
				228 = { CONTROLLER = { has_war_with = SOV } }
				218 = { CONTROLLER = { has_war_with = SOV } }
				245 = { CONTROLLER = { has_war_with = SOV } }
				237 = { CONTROLLER = { has_war_with = SOV } }
				236 = { CONTROLLER = { has_war_with = SOV } }
				231 = { CONTROLLER = { has_war_with = SOV } }#sneaky QA naval invasion check
				238 = { CONTROLLER = { has_war_with = SOV } }
				260 = { CONTROLLER = { has_war_with = SOV } }
				239 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		complete_effect = {

			if = {
				limit = {
					245 = { is_controlled_by = SOV}
				}
				245 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					217 = { is_controlled_by = SOV}
				}
				217 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					218 = { is_controlled_by = SOV}
				}
				218 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					238 = { is_controlled_by = SOV}
				}
				238 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					237 = { is_controlled_by = SOV}
				}
				237 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					236 = { is_controlled_by = SOV}
				}
				236 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					265 = { is_controlled_by = SOV}
				}
				265 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SOV_scorched_earth_moscow = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_country_flag = SOV_scorched_earth

		}

		cost = 75
		fire_only_once = yes
		visible = {
			has_war = yes
			has_country_flag = SOV_scorched_earth
			OR = {
				207 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				241 = { CONTROLLER = { has_war_with = SOV } }
				193 = { CONTROLLER = { has_war_with = SOV } }
				225 = { CONTROLLER = { has_war_with = SOV } }
				240 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						state = 220
						state = 222
						state = 224
						state = 243
						state = 205
						state = 242
						state = 246
						state = 219
					}
					is_controlled_by = SOV
				}
				damage_building = {
						type = infrastructure
						damage = 3
					}
			}
			
		}

		ai_will_do = {
			factor = 1
		}
	}
		
	#217 "Stalingrad"
	SOV_hold_stalingrad = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 217 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_completed_focus = SOV_organize_the_defence_of_stalingrad
		}

		#Success
		timeout_effect = {
			add_stability = 0.2
			add_war_support = 0.2
			add_political_power = 200 
			country_event = soviet.125
		}
		#Fail
		complete_effect = {
			add_stability = -0.3
			add_war_support = -0.3
			add_political_power = -300 		
			country_event = soviet.126
		}
	}
	
	#195 "Leningrad"
	SOV_hold_leningrad = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 195 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_completed_focus = SOV_organize_the_defence_of_stalingrad
		}

		#Success
		timeout_effect = {
			add_stability = 0.2
			add_war_support = 0.2
			add_political_power = 200 
			country_event = soviet.123
		}
		#Fail
		complete_effect = {
			add_stability = -0.3
			add_war_support = -0.3
			add_political_power = -300 		
			country_event = soviet.124
		}
	}

	#219 "Moscow"
	SOV_hold_moscow = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 219 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_completed_focus = SOV_organize_the_defence_of_moscow
		}

		#Success
		timeout_effect = {
			add_stability = 0.2
			add_war_support = 0.2
			add_political_power = 200 
			country_event = soviet.121
		}
		#Fail
		complete_effect = {
			add_stability = -0.3
			add_war_support = -0.3
			add_political_power = -300 		
			country_event = soviet.122
		}
	}

	SOV_lessons_of_war_decision = {

		available = {
			SOV = { has_war_with = GER }
			has_army_experience > 50
			OR  = {
			surrender_progress > 0.225
            casualties > 1000000
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			has_idea = Disorganized_Red_Army_1
		}

		icon = decision_generic_SOV

		cost = 0
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		fire_only_once = yes
        
		complete_effect = {
			army_experience = -50
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_1
				add_idea = Disorganized_Red_Army_2
			}
			MON = {
				swap_ideas = {
					remove_idea = Disorganized_Red_Army_1
					add_idea = Disorganized_Red_Army_2
				}
			}
		}
	}

	SOV_lessons_of_war2_decision = {

		available = {
			SOV = { has_war_with = GER }
			has_army_experience > 75
			OR  = {
			surrender_progress > 0.25
            casualties > 1500000
			}
			
		}
		allowed = {
			tag = SOV
		}
		visible = {
			has_idea = Disorganized_Red_Army_2
		}

		icon = decision_generic_SOV

		cost = 0
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				has_war = yes
			}
		}	
		fire_only_once = yes

		complete_effect = {
			army_experience = -75
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_2
				add_idea = Disorganized_Red_Army_3
			}
			MON = {
				swap_ideas = {
					remove_idea = Disorganized_Red_Army_2
					add_idea = Disorganized_Red_Army_3
				}
			}
		}
	}

	SOV_lessons_of_war3_decision = {

		available = {
			SOV = { has_war_with = GER }
			has_army_experience > 100
			OR  = {
			surrender_progress > 0.3
            casualties > 2000000
			}
			
		}
		allowed = {
			tag = SOV
		}
		visible = {
			has_idea = Disorganized_Red_Army_3
		}


		icon = decision_generic_SOV

		cost = 0
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				has_war = yes
			}
		}	
		fire_only_once = yes

		complete_effect = {
			army_experience = -100
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_3
				add_idea = Disorganized_Red_Army_4
			}
			MON = {
				swap_ideas = {
					remove_idea = Disorganized_Red_Army_3
					add_idea = Disorganized_Red_Army_4
				}
			}
		}
	}

	SOV_lessons_of_war4_decision = {

		available = {
			SOV = { has_war_with = GER }
			has_army_experience > 125
			
			OR  = {
			surrender_progress > 0.35
            casualties > 2500000
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			has_idea = Disorganized_Red_Army_4
		}


		icon = decision_generic_SOV

		cost = 0
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				has_war = yes
			}
		}	
		fire_only_once = yes

		complete_effect = {
			army_experience = -125
			swap_ideas = {
				remove_idea = Disorganized_Red_Army_4
				add_idea = Disorganized_Red_Army_5
			}
			MON = {
				swap_ideas = {
					remove_idea = Disorganized_Red_Army_4
					add_idea = Disorganized_Red_Army_5
				}
			}
		}
	}

	SOV_lessons_of_war5_decision = {

		available = {
			SOV = { has_war_with = GER }
			has_army_experience > 150
			
			OR  = {
			surrender_progress > 0.40
            casualties > 3000000
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			has_idea = Disorganized_Red_Army_5
		}


		icon = decision_generic_SOV

		cost = 0
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				has_war = yes
			}
		}	
		fire_only_once = yes

		complete_effect = {			
			add_doctrine_cost_reduction = {
				cost_reduction = 0.20
				uses = 1
				category = land_doctrine
			}
			army_experience = -150
			if = { limit = { has_idea = Disorganized_Red_Army_5 } remove_ideas = Disorganized_Red_army_5 }
		    custom_effect_tooltip = SOV_guards_divs_tt
			hidden_effect = {
			load_oob = SOV_guards_divs
			}
			MON = {
				if = { limit = { has_idea = Disorganized_Red_Army_5 } remove_ideas = Disorganized_Red_army_5 }
			}
		}
	}

	winter_offensive_decision = { 
		
		available = {
			tag = SOV
			has_war_with = GER
			
			or = { AND = { date > 1940.11.29 date < 1941.01.20 } AND = { date > 1941.11.29 date < 1942.01.20} AND = { date > 1942.11.29 date < 1943.01.20} AND = { date > 1943.11.29 date < 1944.01.20 } AND = { date > 1944.11.29 date < 1945.01.20} }
			
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
		#	OR = {
		#	NOT = { SOV = { has_full_control_of_state = 202 }}
		#	NOT = { SOV = { has_full_control_of_state = 206 }}
		#	NOT = { SOV = { has_full_control_of_state = 208 }}
		#	}
		}

		visible = {
		    has_war_with = GER
		#	or = { AND = { date > 1940.9.29 date < 1941.01.20 } AND = { date > 1941.9.29 date < 1942.01.20} AND = { date > 1942.9.29 date < 1943.01.20} AND = { date > 1943.9.29 date < 1944.01.20 } AND = { date > 1944.9.29 date < 1945.01.20} }
			tag = SOV
		}
		icon = decision_generic_SOV

			cost = 0
			ai_will_do = {
				factor = 100
			}	
			fire_only_once = yes
		
		complete_effect = { 
		   	add_timed_idea = {	
	       		idea = winter_offensive
		   		days = 100
		   	}
			MON = {
		     	add_timed_idea = {	
	         	 	idea = MON_winter_offensive
		      		days = 100
		     	}
			}
			hidden_effect = {
				load_oob = "SOV_winteroffense"
				play_song = "The Cossacks"
			}
			set_country_flag = SOVwintercounteroffense
			news_event = { hours = 20 id = news.460 }
	    }
	}
		
	winter_offensive_decision_2 = { 
		
		available = {
			tag = SOV
			NOT = { has_idea = winter_offensive }
			has_war_with = GER
			has_country_flag = SOVwintercounteroffense
			
			or = { AND = { date > 1940.11.29 date < 1941.01.20 } AND = { date > 1941.11.29 date < 1942.01.20} AND = { date > 1942.11.29 date < 1943.01.20} AND = { date > 1943.11.29 date < 1944.01.20 } AND = { date > 1944.11.29 date < 1945.01.20} }
			
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
		}

		visible = {
				tag = SOV
		#        NOT = { has_idea = winter_offensive }
		#		has_country_flag = SOVwintercounteroffense
		        has_war_with = GER
		#		or = { AND = { date > 1940.9.29 date < 1941.01.20 } AND = { date > 1941.9.29 date < 1942.01.20} AND = { date > 1942.9.29 date < 1943.01.20} AND = { date > 1943.9.29 date < 1944.01.20 } AND = { date > 1944.9.29 date < 1945.01.20} }
		}
		
		
		icon = decision_generic_SOV

		cost = 0
			ai_will_do = {
				factor = 100
			}	
			fire_only_once = yes
		
		complete_effect = { 
		   	add_timed_idea = {	
	       		idea = winter_offensive
		   		days = 100
		   	}
			MON = {
		     	add_timed_idea = {	
	         	 	idea = MON_winter_offensive
		      		days = 100
		     	}
			}
			set_country_flag = SOVwintercounteroffense
			news_event = { hours = 20 id = news.460 }
			hidden_effect = {
				play_song = "Polyushka Polye"
				}
		}
	}

	army_recovery = {

		available = {
			tag = SOV
			has_war_with = GER
			date > 1942.05.31
		}

		visible = {
		tag = SOV
			has_war_with = GER
			date >1942.05.31
		}

		icon = decision_generic_SOV

		cost = 0
			ai_will_do = {
				factor = 100
			}	
			fire_only_once = yes

		complete_effect = { 
			if = {
				limit = { has_idea = Disorganized_Red_Army_5 }
				remove_ideas = Disorganized_Red_Army_5
			}
			if = {
				limit = { has_idea = Disorganized_Red_Army_4 }
				remove_ideas = Disorganized_Red_Army_4
			}
			if = {
				limit = { has_idea = Disorganized_Red_Army_3 }
				remove_ideas = Disorganized_Red_Army_3
			}
			if = {
				limit = { has_idea = Disorganized_Red_Army_2 }
				remove_ideas = Disorganized_Red_Army_2 
			}
			if = {
				limit = { has_idea = Disorganized_Red_Army_1 }
				remove_ideas = Disorganized_Red_Army_1
	  		}
			MON = {
				if = {
					limit = { has_idea = Disorganized_Red_Army_5 }
					remove_ideas = Disorganized_Red_Army_5
				}
				if = {
					limit = { has_idea = Disorganized_Red_Army_4 }
					remove_ideas = Disorganized_Red_Army_4
				}
				if = {
					limit = { has_idea = Disorganized_Red_Army_3 }
					remove_ideas = Disorganized_Red_Army_3
				}
				if = {
					limit = { has_idea = Disorganized_Red_Army_2 }
					remove_ideas = Disorganized_Red_Army_2 
				}
				if = {
					limit = { has_idea = Disorganized_Red_Army_1 }
					remove_ideas = Disorganized_Red_Army_1
	  			}
			}
	    }
	}
}



operations = {

	SOV_develop = {

		icon = generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1936.7.1		
		}

		cost = 20

		ai_will_do = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war_support > 0.6
			}

			modifier = {
				factor = 2
				has_war_with = CHI
			}
		}

		fire_only_once = yes

		complete_effect = {
			MON = {
				330 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				820 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				617 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}				
			}
		}
	}
	SOV_annex_mon = {

		icon = generic_political_discourse

		allowed = {
			tag = SOV			
		}

		available = {
			date > 1936.7.1	
			is_ai = no
			MON = { is_ai = yes }
			country_exists = MON
		}

		modifier = {
			consumer_goods_factor = 0.05
		}

		cost = 0
		days_remove = 180

		fire_only_once = yes


		complete_effect = {
			annex_country = {
              target = MON
              transfer_troops = yes
			}
			every_state = {
				every_state = {
				limit = { is_core_of = MON }
				set_resistance = 0
				set_compliance = 70
				}	
			}
		}
	}
	SOV_sealion = {

		icon = generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			ENG = {
				has_capitulated = yes 
			}
		}

		visible = {
			ENG = {
				has_capitulated = yes 
			}
		}

		cost = 10
		
		ai_will_do = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war_support > 0.6
			}

			modifier = {
				factor = 2
				has_war_with = CHI
			}
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.5
			add_war_support = 0.5
			add_ideas = SOV_sealions
			MON = {
			    add_stability = 0.5
			    add_war_support = 0.5
			    add_ideas = SOV_sealions
			}
		}
	}
}

SOV_global_revolution = {


	SOV_guns_for_china_against_china = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 4999 }
			PRC = {
				has_war_with = CHI
			}
		}

		visible = {
			PRC = {
				has_war_with = CHI
			}
		}

		cost = 10
		ai_will_do = {
			factor = 25

			modifier = {
				factor = 0.5
				has_war_support < 0.6
			}

			modifier = {
				factor = 2
				has_war_with = CHI
			}
		}

		fire_only_once = no	

		days_re_enable = 180

		complete_effect = {
		army_experience = 50
			ROOT = {
				send_equipment = {
					target = PRC
					type = infantry_equipment
					amount = 5000
					old_prioritised = yes
				}
				
			}
		}
	}

	SOV_support_china_with_factories_against_china = {

		icon = generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			any_other_country = {
				PRC = { 
					has_war_with = CHI
				}
			}
			num_of_civilian_factories_available_for_projects > 9
		}

		visible = {
			any_other_country = {
				PRC = { 
					has_war_with = CHI
				}
			}
		}

		cost = 25
		ai_will_do = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war_support > 0.6
			}

			modifier = {
				factor = 2
				has_war_with = CHI
			}
		}

		fire_only_once = no

		modifier = {
			civilian_factory_use = 10			
		}

		days_remove = 180

		complete_effect = {
			random_country = {
				limit = {
					Tag = PRC
				}
				add_offsite_building = { type = arms_factory level = 10 }
				set_country_flag = SOV_support_china_with_factories_against_china
			}
		}

		remove_effect = {
		add_political_power = 100
			add_war_support = 0.05
				PRC = {
					add_offsite_building = { type = arms_factory level = -10 }
				}	
		}
	}

	SOV_guns_for_china = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 999 }
			OR = {
				AND = {
					JAP = {has_completed_focus = JAP_intervene_in_china}
					NOT = {JAP = {has_country_flag = jap_first_truce}}
				}
				PRC = {has_war_with = JAP}
			}
		}

		visible = {
			OR = {
				AND = {
					JAP = {has_completed_focus = JAP_intervene_in_china}
					NOT = {JAP = {has_country_flag = jap_first_truce}}
				}
				PRC = {has_war_with = JAP}
			}
		}

		cost = 10
		ai_will_do = {
			factor = 25

			modifier = {
				factor = 0.5
				has_war_support < 0.6
			}

			modifier = {
				factor = 2
				has_war_with = JAP
			}
		}

		fire_only_once = no	

		days_re_enable = 180

		complete_effect = {
		army_experience = 20
			ROOT = {
				send_equipment = {
					target = PRC
					type = infantry_equipment
					amount = 2000
					old_prioritised = yes
				}
				
			}
		}
	}

	SOV_support_china_with_factories = {

		icon = generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				AND = {
					JAP = {has_completed_focus = JAP_intervene_in_china}
					NOT = {JAP = {has_country_flag = jap_first_truce}}
				}
				PRC = {has_war_with = JAP}
			}
			num_of_civilian_factories_available_for_projects > 3
		}

		visible = {
			OR = {
				AND = {
					JAP = {has_completed_focus = JAP_intervene_in_china}
					NOT = {JAP = {has_country_flag = jap_first_truce}}
				}
				PRC = {has_war_with = JAP}
			}
		}

		cost = 25
		ai_will_do = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war_support > 0.6
			}

			modifier = {
				factor = 2
				has_war_with = JAP
			}
		}

		fire_only_once = no

		modifier = {
			civilian_factory_use = 3			
		}

		days_remove = 180

		complete_effect = {
			random_country = {
				limit = {
					Tag = PRC
				}
				add_offsite_building = { type = arms_factory level = 3 }
				set_country_flag = SOV_support_china_with_factories
			}
		}

		remove_effect = {
			add_political_power = 100
			add_war_support = 0.05
			PRC = {
				add_offsite_building = { type = arms_factory level = -3 }
			}
		}
	}
	
	SOV_guns_for_spain = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 1999 }
			SPR = { has_idea = SPA_spanish_civil_war_industry }
		}

		visible = {
			SPR = { has_idea = SPA_spanish_civil_war_industry }
		}

		cost = 10
		ai_will_do = {
			factor = 50
		}
		
		fire_only_once = no	

		days_re_enable = 180

		complete_effect = {		
			army_experience = 50
			random_country = {
				limit = {
					original_tag = POR
				}
				send_equipment = { 
					type = infantry_equipment
					target = POR
					amount = 2000
					old_prioritised = yes
				}	
			}			
		}
	}

	SOV_support_spain_with_factories = {

		icon = generic_industry

		allowed = {
			original_tag = SOV
		}

		available = {
			SPR = { has_idea = SPA_spanish_civil_war_industry }
			num_of_civilian_factories_available_for_projects > 3			
		}

		visible = {
			SPR = { has_idea = SPA_spanish_civil_war_industry }
		}
		ai_will_do = {
			factor = 50
		}
		cost = 25

		fire_only_once = no

		modifier = {
			civilian_factory_use = 3			
		}

		days_remove = 180

		complete_effect = {
			random_country = {
				limit = {
					original_tag = SPR 
					OR = { 
						has_government = democratic 
						has_government = communism 
					}
				}
				add_offsite_building = { type = arms_factory level = 5 }
				set_country_flag = SOV_support_spain_with_factories
			}
		}

		remove_effect = {
		    add_political_power = 100
			add_war_support = 0.05
			random_country = {
				limit = {
					original_tag = SPR 
					OR = { 
						has_government = democratic 
						has_government = communism 
					}
				}
					if = {
						limit = {
							NOT = { any_other_country = { has_country_flag = SOV_support_spain_with_factories } }
						}
					}
				add_offsite_building = { type = arms_factory level = -5 }
			}
		}
	}
}

SOV_5_year_plan_decisions = {

	SOV_5_year_plan_oil = {

		icon = oil

		available = {
			has_completed_focus = SOV_the_quotas_must_be_fulfilled
			any_owned_state = {
				NOT = { has_state_flag = SOV_exhausted_resources }					
				has_resources_amount = {
				    resource = oil
				    amount > 9
				}
			}				
		}

		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_idea_2_5_year_plan
				has_idea = SOV_idea_3_5_year_plan
			}
		}

		days_re_enable = 15

		days_remove = 55

		cost = 25

		modifier = {
			civilian_factory_use = 3
			stability_weekly = -0.005		
		}

		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = SOV_exhausted_resources }					
					has_resources_amount = {
					    resource = oil
					    amount > 9 
					}
				}
				add_resource = {
				    type = oil
				    amount = 6
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_exhausted_resources
    		}
 			custom_effect_tooltip = SOV_5_year_plan_tt 
  			add_to_variable = { var = five_year_plan_progress value = 2 }				  		
		}
	}

	SOV_5_year_plan_steel = {

		icon = steel

		available = {
			has_completed_focus = SOV_the_quotas_must_be_fulfilled
			any_owned_state = {
				NOT = { has_state_flag = SOV_exhausted_resources }					
				has_resources_amount = {
				    resource = steel
				    amount > 19
				}
			}							
		}

		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_idea_2_5_year_plan
				has_idea = SOV_idea_3_5_year_plan
			}
		}

		days_re_enable = 15

		days_remove = 55

		cost = 25

		modifier = {
			civilian_factory_use = 3
			stability_weekly = -0.005		
		}

		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = SOV_exhausted_resources }
					has_resources_amount = {
					    resource = steel
					    amount > 9 
					}
				}
				add_resource = {
				    type = steel
				    amount = 20
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_exhausted_resources
    		}
 			custom_effect_tooltip = SOV_5_year_plan_tt   
  			add_to_variable = { var = five_year_plan_progress value = 2 }	
					
		}
	}

	SOV_5_year_plan_tungsten = {

		icon = tungsten

		available = {
			has_completed_focus = SOV_the_quotas_must_be_fulfilled
			any_owned_state = {
				NOT = { has_state_flag = SOV_exhausted_resources }					
				has_resources_amount = {
					resource = tungsten
					amount > 9
				}
			}										
		}

		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_idea_2_5_year_plan
				has_idea = SOV_idea_3_5_year_plan
			}
		}

		days_re_enable = 15

		days_remove = 55

		cost = 25

		modifier = {
			civilian_factory_use = 3
			stability_weekly = -0.005		
		}

		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = SOV_exhausted_resources }				
					has_resources_amount = {
					    resource = tungsten
					    amount > 9 
					}
				}
				add_resource = {
				    type = tungsten
				    amount = 10
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_exhausted_resources 				
    		}
 			custom_effect_tooltip = SOV_5_year_plan_tt  
 			add_to_variable = { var = five_year_plan_progress value = 2 }	

		}
	}

	SOV_5_year_plan_aluminium = {

		icon = aluminium

		available = {
			has_completed_focus = SOV_the_quotas_must_be_fulfilled
			any_owned_state = {
				NOT = { has_state_flag = SOV_exhausted_resources }					
				has_resources_amount = {
					resource = aluminium
					amount > 9 
				}
			}													
		}

		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_idea_2_5_year_plan
				has_idea = SOV_idea_3_5_year_plan
			}
		}

		days_re_enable = 15

		days_remove = 55

		cost = 25

		modifier = {
			civilian_factory_use = 3
			stability_weekly = -0.005		
		}

		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = SOV_exhausted_resources }
					has_resources_amount = {
					    resource = aluminium
					    amount > 9 
					}
				}
				add_resource = {
				    type = aluminium
				    amount = 15
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_exhausted_resources 								
    		}
			custom_effect_tooltip = SOV_5_year_plan_tt  
 			add_to_variable = { var = five_year_plan_progress value = 2 }	
		}
	}

	SOV_5_year_plan_chromium = {

		icon = chromium

		available = {
			has_completed_focus = SOV_the_quotas_must_be_fulfilled
			any_owned_state = {
				NOT = { has_state_flag = SOV_exhausted_resources }					
				has_resources_amount = {
					resource = chromium
					amount > 9 
				}
			}																
		}

		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_idea_2_5_year_plan
				has_idea = SOV_idea_3_5_year_plan
			}
		}

		days_re_enable = 15

		days_remove = 55

		cost = 25

		modifier = {
			civilian_factory_use = 3
			stability_weekly = -0.005		
		}

		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = SOV_exhausted_resources }
					has_resources_amount = {
					    resource = chromium
					    amount > 9 
					}
				}
				add_resource = {
				    type = chromium
				    amount = 8
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_exhausted_resources
    		}
 			custom_effect_tooltip = SOV_5_year_plan_tt   		
 			add_to_variable = { var = five_year_plan_progress value = 2 }	
		}
	}	

	SOV_develop_magnitogorsk = { #582
		
		icon = construction

		highlight_states = {
			highlight_state_targets = {
				state = 582
			}
		}

		available = {
			has_tech = excavation3
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 10
			owns_state = 582
			controls_state = 582
			has_completed_focus = SOV_3_5_plan_magnitogorsk
			check_variable = { var = magnitogorsk_development_var value = 5 compare = less_than }
		}

		visible = {
			owns_state = 582
			controls_state = 582
			check_variable = { var = magnitogorsk_development_var value = 5 compare = less_than }
		}

		days_remove = SOV_magnitogorsk_development_duration

		modifier = {
			civilian_factory_use = 10
		}
		
		cost = 25

		remove_effect = {
			add_to_variable = { var = SOV_magnitogorsk_development_duration value = 15 }
			add_to_variable = { var = magnitogorsk_development_var value = 1 }
			582 = {
				add_resource = {
					type = steel
					amount = 20
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2 
					instant_build = yes 
				}
				add_building_construction = {
					type = arms_factory
					level = 2 
					instant_build = yes 
				}				
			}
			custom_effect_tooltip = SOV_develop_magnitogorsk_decision_tt  
 			custom_effect_tooltip = SOV_5_year_plan_tt   		
 			add_to_variable = { var = five_year_plan_progress value = 2 }				
		}

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			if = {
				limit = {
					check_variable = { var = SOV_magnitogorsk_development_duration value = 15 compare = less_than }
				}
				set_variable = { var = SOV_magnitogorsk_development_duration value = 15 }
			}
		}
	}
	
	SOV_mark_state_for_five_year_plan = {
		icon = eng_trade_unions_support
   
		allowed = {
		   tag = SOV
		}
		
		selectable_mission = no
		days_mission_timeout = 59
		days_remove = 60
		is_good = no
		fire_only_once = no
		
		activation = {
			OR = { 
				date > 1936.01.01
			}
		}

		complete_effect = {
			SOV = {
				random_owned_controlled_state = {
					limit = {
						NOT = { has_state_flag = SOV_5_year_plan_IC }
						NOT = { has_state_flag = SOV_gulag_economy_flag }
						free_building_slots = {
							building = arms_factory
							size > 4
						}
						free_building_slots = {
							building = industrial_complex
							size > 4
						}
					}
					set_state_flag = SOV_5_year_plan_IC 
					custom_effect_tooltip = SOV_marked_for_5_year_plan_tt
				}
				add_to_variable = { var = five_year_plan_progress value = 2 }
			}
		}

		ai_will_do = {
			base = 5000			
		}
	}
	
	SOV_5_year_plan_build_airforce_cas = {

		icon = generic_construction

		available = {
		    has_deployed_air_force_size = {
			    size > 1499
			    type = fighter
			}
			has_deployed_air_force_size = {
			    size > 499
			    type = cas
			}
		}

		activation = {
			has_completed_focus = SOV_ilyushin_CAS
		}

		days_mission_timeout = 900
		is_good = no
		fire_only_once = yes

		visible = {
			has_completed_focus = SOV_ilyushin_CAS
		}

		timeout_effect = {
			SOV = { country_event = { days = 1 id = soviet.120 } }
			effect_tooltip = {
				if = {
					limit = { 
						has_idea = trotskyite_plot_purged 
					}
					custom_effect_tooltip = SOV_increase_paranoia_20_tt
					add_to_variable = { var = stalin_paranoia value = 20 }		
				}
				else = {
					add_stability = -0.15
				}
			}			
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_1938
					amount = 1000
					producer = SOV
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment_1941
					amount = 600
					producer = SOV
			}
		}	
	}

	SOV_5_year_plan_build_airforce_strats = {

		icon = generic_construction

		available = {
			has_deployed_air_force_size = {
			    size > 1499
			    type = fighter
			}
			has_deployed_air_force_size = {
			    size > 299
			    type = tactical_bomber
			}
		}

		days_mission_timeout = 700
		is_good = no
		fire_only_once = yes

		activation = {
			has_completed_focus = SOV_strategic_flight_command
		}

		visible = {
			has_completed_focus = SOV_strategic_flight_command
		}	

		timeout_effect = {
			SOV = { country_event = { days = 1 id = soviet.120 } }
			effect_tooltip = {
				if = {
					limit = { 
						has_idea = trotskyite_plot_purged 
					}
					custom_effect_tooltip = SOV_increase_paranoia_20_tt
					add_to_variable = { var = stalin_paranoia value = 20 }		
				}
				else = {
					add_stability = -0.15
				}
			}			
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_1938
					amount = 1000
					producer = SOV
				}
			add_equipment_to_stockpile = {
				type = strat_bomber_equipment_1941
					amount = 250
					producer = SOV
				}
		}	
	}

	SOV_2_5_year_plan_mission = {

		icon = generic_construction

		available = {
			check_variable = { var = five_year_plan_progress value = 100 compare = greater_than_or_equals }						
		}

		days_mission_timeout = 770

		is_good = no

		fire_only_once = yes

		visible = {
			tag = SOV
		}

		activation = {
			OR = { 
				date > 1936.01.01
			}
		}

		timeout_effect = {
			remove_ideas = SOV_idea_2_5_year_plan			
			add_stability = -0.2
			add_political_power = -150
			SOV = { country_event = { days = 1 id = soviet.119 } }
			set_variable = {
			    var = five_year_plan_progress
			    value = 0
			}
		}

		cancel_trigger = {
			has_defensive_war = yes
		}		

		complete_effect = {
			remove_ideas = SOV_idea_2_5_year_plan 				

			add_political_power = 150
			add_stability = 0.2

			SOV = { country_event = { days = 1 id = soviet.118 } }			

 			custom_effect_tooltip = SOV_5_year_plan_3_tt   	
			set_variable = {
			    var = five_year_plan_progress
			    value = 0
			}
			hidden_effect = { 
				play_song = "Life Has Become Better"
			}
		}	
	}

	SOV_3_5_year_plan_mission = {

		icon = generic_construction

		available = {
			check_variable = { var = five_year_plan_progress value = 100 compare = greater_than_or_equals }						
		}

		days_mission_timeout = 1825
		is_good = no
		fire_only_once = yes

		visible = {
			tag = SOV
		}

		activation = {
			has_completed_focus = SOV_begin_the_3_5_year_plan
		}

		cancel_trigger = {
			has_defensive_war = yes
		}

		timeout_effect = {
			add_stability = -0.2
			add_political_power = -150
			SOV = { country_event = { days = 1 id = soviet.119 } }
		}

		complete_effect = {
			add_political_power = 150
			add_stability = 0.2

			SOV = { country_event = { days = 1 id = soviet.118 } }			

 			custom_effect_tooltip = SOV_5_year_plan_3_tt   		
		}	
	}
} 


